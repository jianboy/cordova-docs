<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta name="description" content="We are happy to announce that Cordova Android 5.1.0 has been released.This update introduces a new API for Android plugin authors. Plugins that launch extern...">

    <title>
        
            
                Cordova Android 5.1.0 - Cordova 中文网
            
        
    </title>

    <link rel="SHORTCUT ICON" href="/favicon.ico"/>

    

    
    

    <link rel="canonical" href="https://cordova.apache.org/announcements/2016/01/24/cordova-android-5.1.0.html">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/static/css/main.css">
    <link rel="stylesheet" type="text/css" href="/static/css/lib/syntax.css">
    <!-- Algolia Search CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" />

    <!-- Fonts -->
    <!-- For attribution information, see www/attributions.html -->
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
        var disqus_developer = 1; // this would set it to developer mode
    </script>

    <!-- JS -->
    <script defer type="text/javascript" src="/static/js/lib/jquery-2.1.1.min.js"></script>
    <script defer type="text/javascript" src="/static/js/lib/bootstrap.min.js"></script>
    <script defer type="text/javascript" src="/static/js/lib/ZeroClipboard.js"></script>

</head>

<body>
    <header>
    <a class="scroll-point pt-top" name="top"></a>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/"><img id="logo_top" src="/static/img/cordova-logo-newbrand.svg"/></a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <div class="nav_bar_center">
                    <ul class="nav navbar-nav">
                        <li >
                            <a href="/docs/zh-cn/9.x/">cordova中文文档</a>
                        </li>
                        <li >
                            <a href="/plugins">插件</a>
                        </li>
                        <li class="active">
                            <a href="/blog" id="blog_button">cordova博客<span class="badge" id="new_blog_count"></span></a>
                        </li>
                        <li class="active">
                            <a href="/community" id="blog_button">cordova中文社区<span class="badge" id="new_blog_count"></span></a>
                        </li>
                        <li >
                            <a href="/contribute">贡献</a>
                        </li>
                        <li>
                            <a href="/#getstarted">快速开始</a>
                        </li>
                        <li>
                            <form class="navbar-form navbar-right" id="header-search-form" role="search">
                                <div class="input-group">
                                    
                                        
                                    
                                    <input id="header-search-field" type="text" placeholder="Search '9.x' docs..." class="form-control hidden-xs" autocomplete="off">
                                </div>
                            </form>
                        </li>
                    </ul>
                </div>
            </div><!--/.navbar-collapse -->
        </div>
    </nav>
    <div id="_fixed_navbar_spacer" style="padding-top:50px"></div>
</header>

<div class="page container">
    <div class="blog">
    <h1 class="blogHeader">
    Blog
    <span class="rss">
        <img src="/static/img/subscribe.png"><a href="/feed.xml">RSS Feed</a>
    </span>
</h1>

<div class="post">
    <header>
        <div class="title">Cordova Android 5.1.0</div>
        <div class="author">By:
            
              <a href="https://twitter.com/stevesgill">Steve Gill</a>
            
        </div>
        <div class="date">24 Jan 2016</div>
    </header>
    <section>
        <div>
            <p>We are happy to announce that <code>Cordova Android 5.1.0</code> has been released.</p>

<p>This update introduces a new API for Android plugin authors. Plugins that launch external activities can now better handle method calls on devices that are low on memory. In that scenario, the Android OS will sometimes kill the Cordova Activity when it is pushed into the background by the external Activity. This causes the plugin to lose any callbacks they have pending in the javascript. The new API allows the results of external Activity calls to be delivered via the resume event that is fired in the javascript after the Cordova Activity is destroyed and recreated. Plugin authors wishing to implement the new API should read the updated plugin guide <a href="http://cordova.apache.org/docs/en/dev/guide/platforms/android/plugin.html">here</a>.</p>

<p>Two core plugins support this new API and have been updated to fix longstanding bugs:</p>

<ul>
<li><code>cordova-plugin-camera@2.1.0</code> (fixes <a href="https://issues.apache.org/jira/browse/CB-9189">CB-9189</a>)</li>
<li><code>cordova-plugin-contacts@2.0.1</code> (fixes <a href="https://issues.apache.org/jira/browse/CB-9189">CB-10159</a>)</li>
</ul>

<p>Application authors are encouraged to update both their plugin and cordova-android versions to take advantage of these bug fixes. Please note that the aforementioned fixes require changes to your application as well. More information can be found in the READMEs of each of those plugins and in the new <a href="http://cordova.apache.org/docs/en/dev/guide/platforms/android/lifecycle.html">Android lifecycle guide</a> that has been published to the Cordova documentation. This guide provides explanations and guidance on how to handle low memory scenarios on the Android platform as well as integrate the new resume APIs into your application.</p>

<p>To upgrade:</p>
<div class="highlight"><pre><code class="language-" data-lang="">npm install -g cordova
cd my_project
cordova platform update android@5.1.0
</code></pre></div>
<p>To add it explicitly:</p>
<div class="highlight"><pre><code class="language-" data-lang="">cordova platform add android@5.1.0
</code></pre></div>
<!--more-->

<h2>What&#39;s new in Android platform</h2>

<ul>
<li><a href="https://issues.apache.org/jira/browse/CB-10386">CB-10386</a> Add <code>android.useDeprecatedNdk=true</code> to support <code>NDK</code> in <code>gradle</code></li>
<li><a href="https://issues.apache.org/jira/browse/CB-8864">CB-8864</a>: Fixing this to mitigate <a href="https://issues.apache.org/jira/browse/CB-8685">CB-8685</a> and <a href="https://issues.apache.org/jira/browse/CB-10104">CB-10104</a></li>
<li><a href="https://issues.apache.org/jira/browse/CB-10105">CB-10105</a>: Spot fix for tilde errors on paths.</li>
<li>Update theme to <code>Theme.DeviceDefault.NoActionBar</code></li>
<li><a href="https://issues.apache.org/jira/browse/CB-10014">CB-10014</a>: Set gradle <code>applicationId</code> to <code>package name</code>.</li>
<li><a href="https://issues.apache.org/jira/browse/CB-9949">CB-9949</a>: Fixing menu button event not fired in <strong>Android</strong></li>
<li><a href="https://issues.apache.org/jira/browse/CB-9479">CB-9479</a>: Fixing the conditionals again, we should </li>
<li><a href="https://issues.apache.org/jira/browse/CB-8917">CB-8917</a>: New Plugin API for passing results on resume after Activity destruction</li>
<li><a href="https://issues.apache.org/jira/browse/CB-9971">CB-9971</a> Suppress <code>gradlew _JAVA_OPTIONS</code> output during build</li>
<li><a href="https://issues.apache.org/jira/browse/CB-9836">CB-9836</a> Add <code>.gitattributes</code> to prevent <code>CRLF</code> line endings in repos</li>
<li>added node_modules back into <code>.gitignore</code></li>
</ul>

        </div>
    </section>
    <footer>
        <div class="row">
            <div class="col-sm-6">
                
                    <a href="/news/2016/01/19/plugins-release.html">Previous</a>
                    <br>
                    <br>
                    <a class="title" href="/news/2016/01/19/plugins-release.html">Plugins Release</a>
                    <div class="date"> 19 Jan 2016 - By Steve Gill </div>
                    <p class="content">
                        The following plugins were updated today: cordova-plugin-camera@2.1.0 cordova-plugin-contacts@2.0.1 cordova-plugin-device@1.1.1 cordova-plugin-file@4.1.0 cordova-plugin-file-transfer@1.5.0 cordova-plugin-geolocation@2.1.0...
                    </p>
                
            </div>
            <div class="col-sm-6">
                
                    <a href="/news/2016/01/28/tools-release.html">Next</a>
                    <br>
                    <br>
                    <a class="title" href="/news/2016/01/28/tools-release.html">Cordova 6.0.0 Released!</a>
                    <div class="date"> 28 Jan 2016 - By Steve Gill </div>
                    <p class="content">
                        <!--
                            NOTE:
                                the markdownify filter is used here
                                because posts are rendered in sequence;
                                that is, the next post's content isn't
                                yet rendered at the time that this post
                                is being rendered, so page.next.excerpt
                                is still in Markdown and not HTML

                            Reference: https://github.com/jekyll/jekyll/issues/2860
                        -->
                        New versions of cordova tools are now live! cordova-lib@6.0.0 cordova@6.0.0 plugman@1.1.0 cordova-js@4.1.3...
                    </p>
                
            </div>
        </div>
    </footer>
    <div class="disqus">
        <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'cordovablogs';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

    </div>
</div>

</div>

</div>

<div class="blue-divider"></div>
<footer>
    <div class="container">
        <div class="row">
    <div class="col-sm-9">
        <h1>More Resources</h1>
        <div class="row">
            <div class="col-sm-4">
                <h2>General</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://projects.apache.org/project.html?cordova">Apache Project Page</a>
                    </li>
                    <li>
                        <a href="http://www.apache.org/dyn/closer.cgi/cordova">Source Distribution</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">License</a>
                    </li>
                    <li>
                        <a href="/artwork">Artwork</a>
                    </li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Development</h2>
                <ul class="nav">
                    <li><a target="_blank" href="https://github.com/apache?utf8=%E2%9C%93&amp;q=cordova-">Source Code</a></li>
                    <li><a target="_blank" href="https://issues.apache.org/jira/browse/CB/">Issue Tracker</a></li>
                    <li><a target="_blank" href="http://stackoverflow.com/questions/tagged/cordova">Stack Overflow</a></li>
                    <li><a href="/contact">Mailing List</a></li>
                    <li><a href="/contribute/nightly_builds.html">Nightly builds</a></li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Apache Software Foundation</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="http://www.apache.org/">About ASF</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/foundation/thanks.html">Thanks</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/security/">Security</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-sm-3">
        <h1>Contribute</h1>
        <p style="padding-top:20px"><strong>Help Cordova move forward!</strong></p>
        <p>Report bugs, improve the docs, or contribute to the code.</p>
        <a href="/contribute" class="btn btn-lg btn-primary">
            Learn More
        </a>
        <p style="padding-top:20px"> <a href="https://twitter.com/apachecordova" class="twitter-follow-button" data-show-count="false">Follow @apachecordova</a></p>
    </div>
</div>
<p class="copyright_text">
    Copyright &copy; 2012, 2013, 2015 Apache软件基金会, 许可授权在 <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.<br/>
    Apache and the Apache feather logos are <a target="_blank" href="http://www.apache.org/foundation/marks/list/">trademarks</a> of The Apache Software Foundation.
    <br/>
    "Raleway" font used under license. For details see the <a href="/attributions/">attributions page</a>.
</p>

    </div>
</footer>


    <script defer type="text/javascript" src="/static/js/index.js"></script>
    
    



    


<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: '0a916ab198bd93d031aa70611271e42e',
        indexName: 'cordova',
        inputSelector: '#header-search-field',
        algoliaOptions: { 'facetFilters': ["version:  9.x", "language: zh-cn"] }
    });
</script>

</body>
</html>
