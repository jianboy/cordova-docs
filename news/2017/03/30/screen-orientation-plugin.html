<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta name="description" content="Originally posted at this PhoneGap blogCordova Screen Orientation PluginThe new version(2.0.0) of the cordova screen orientation plugin was released recently...">

    <title>
        
            
                Screen Orientation Plugin - Cordova 中文网
            
        
    </title>

    <link rel="SHORTCUT ICON" href="/favicon.ico"/>

    

    
    

    <link rel="canonical" href="https://cordova.apache.org/news/2017/03/30/screen-orientation-plugin.html">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/static/css/main.css">
    <link rel="stylesheet" type="text/css" href="/static/css/lib/syntax.css">
    <!-- Algolia Search CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" />

    <!-- Fonts -->
    <!-- For attribution information, see www/attributions.html -->
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
        var disqus_developer = 1; // this would set it to developer mode
    </script>

    <!-- JS -->
    <script defer type="text/javascript" src="/static/js/lib/jquery-2.1.1.min.js"></script>
    <script defer type="text/javascript" src="/static/js/lib/bootstrap.min.js"></script>
    <script defer type="text/javascript" src="/static/js/lib/ZeroClipboard.js"></script>

</head>

<body>
    <header>
    <a class="scroll-point pt-top" name="top"></a>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/"><img id="logo_top" src="/static/img/cordova-logo-newbrand.svg"/></a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <div class="nav_bar_center">
                    <ul class="nav navbar-nav">
                        <li >
                            <a href="/docs/zh-cn/9.x/">cordova中文文档</a>
                        </li>
                        <li >
                            <a href="/plugins">插件</a>
                        </li>
                        <li class="active">
                            <a href="/blog" id="blog_button">cordova博客<span class="badge" id="new_blog_count"></span></a>
                        </li>
                        <li class="active">
                            <a href="/community" id="blog_button">cordova中文社区<span class="badge" id="new_blog_count"></span></a>
                        </li>
                        <li >
                            <a href="/contribute">贡献</a>
                        </li>
                        <li>
                            <a href="/#getstarted">快速开始</a>
                        </li>
                        <li>
                            <form class="navbar-form navbar-right" id="header-search-form" role="search">
                                <div class="input-group">
                                    
                                        
                                    
                                    <input id="header-search-field" type="text" placeholder="Search '9.x' docs..." class="form-control hidden-xs" autocomplete="off">
                                </div>
                            </form>
                        </li>
                    </ul>
                </div>
            </div><!--/.navbar-collapse -->
        </div>
    </nav>
    <div id="_fixed_navbar_spacer" style="padding-top:50px"></div>
</header>

<div class="page container">
    <div class="blog">
    <h1 class="blogHeader">
    Blog
    <span class="rss">
        <img src="/static/img/subscribe.png"><a href="/feed.xml">RSS Feed</a>
    </span>
</h1>

<div class="post">
    <header>
        <div class="title">Screen Orientation Plugin</div>
        <div class="author">By:
            
              <a href="https://twitter.com/tweetsbymishra">Vishal Mishra</a>
            
        </div>
        <div class="date">30 Mar 2017</div>
    </header>
    <section>
        <div>
            <p>Originally posted at this <a href="https://blog.phonegap.com/cordova-screen-orientation-plugin-fabeba30a4c4">PhoneGap blog</a></p>

<h2>Cordova Screen Orientation Plugin</h2>

<p>The new version(2.0.0) of the cordova screen orientation plugin was released recently. The purpose of the plugin is to set/lock the screen orientation in a common way for all the major platforms. This new version conforms with the specifications mentioned in the <a href="https://www.w3.org/TR/screen-orientation/">W3C Screen Orientation API</a>, currently in open draft.</p>

<p>The plugin incorporates these major updates:</p>

<ol>
<li>Locking/unlocking the screen orientation.</li>
<li>Accessing the current screen orientation.</li>
<li>Addition of &#39;onchange&#39; event handler to the screen.orientation object.</li>
<li>A Demo App.</li>
</ol>

<h3>Locking/unlocking the screen orientation</h3>

<p>The screen orientation can be locked to a particular orientation, say, for example, landscape, using :</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">screen</span><span class="p">.</span><span class="nx">orientation</span><span class="p">.</span><span class="nx">lock</span><span class="p">(</span><span class="s1">'landscape'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="nx">success</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Successfully locked the orientation"</span><span class="p">);</span>
<span class="p">},</span> <span class="kd">function</span> <span class="nx">error</span><span class="p">(</span><span class="nx">errMsg</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Error locking the orientation :: "</span> <span class="o">+</span> <span class="nx">errMsg</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>The code above sets the screen orientation device to any landscape mode
( landscape-primary or landscape-secondary) depending upon the rotation.
The screen.orientation.lock(OrientationLockType); method returns a promise.On successfully setting the orientation, it resolves a promise. If the screen is not locked successfully, the promise rejects with &#39;NotSupportedError&#39; .
The screen orientation can be unlocked by using:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">screen</span><span class="p">.</span><span class="nx">orientation</span><span class="p">.</span><span class="nx">unlock</span><span class="p">();</span>
</code></pre></div>
<p>The code above makes the screen adapt to the default orientation of the device. The unlock method does not return a promise.</p>

<h3>Accessing the current screen orientation</h3>

<p>The current screen orientation can be accessed as :</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Orientation is'</span> <span class="o">+</span> <span class="nx">screen</span><span class="p">.</span><span class="nx">orientation</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>
</code></pre></div>
<h3>Addition of &#39;onchange&#39; attribute to the screen.orientation object</h3>

<p>An example usage of the &#39;onchange&#39; event handler:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">screen</span><span class="p">.</span><span class="nx">orientation</span><span class="p">.</span><span class="nx">onchange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">screen</span><span class="p">.</span><span class="nx">orientation</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<p>The &#39;change&#39; event can also be added to the screen.orientation object :</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">screen</span><span class="p">.</span><span class="nx">orientation</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'change'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">screen</span><span class="p">.</span><span class="nx">orientation</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<h3>The Demo Application</h3>

<p>The demo application is included on the github repository. Once the plugin has been added to it, the demo application allows the user to test the orientation types with the screen.orientation.lock() method. The demo application is explained in detail <a href="https://www.youtube.com/watch?v=P4Ulb9SQllA&amp;t=5s">here</a>.</p>

        </div>
    </section>
    <footer>
        <div class="row">
            <div class="col-sm-6">
                
                    <a href="/news/2017/03/07/plugins-release.html">Previous</a>
                    <br>
                    <br>
                    <a class="title" href="/news/2017/03/07/plugins-release.html">Plugins Release</a>
                    <div class="date"> 07 Mar 2017 - By Steve Gill </div>
                    <p class="content">
                        The following plugins were updated today: cordova-plugin-battery-status@1.2.3 cordova-plugin-camera@2.4.0 cordova-plugin-console@1.0.6 cordova-plugin-contacts@2.3.0 cordova-plugin-device-motion@1.2.4 cordova-plugin-device-orientation@1.0.6...
                    </p>
                
            </div>
            <div class="col-sm-6">
                
                    <a href="/announcements/2017/04/05/android-release.html">Next</a>
                    <br>
                    <br>
                    <a class="title" href="/announcements/2017/04/05/android-release.html">Cordova Android 6.2.1 Released!</a>
                    <div class="date"> 05 Apr 2017 - By Steve Gill </div>
                    <p class="content">
                        <!--
                            NOTE:
                                the markdownify filter is used here
                                because posts are rendered in sequence;
                                that is, the next post's content isn't
                                yet rendered at the time that this post
                                is being rendered, so page.next.excerpt
                                is still in Markdown and not HTML

                            Reference: https://github.com/jekyll/jekyll/issues/2860
                        -->
                        We are happy to announce that Cordova Android 6.2.1 has been released!...
                    </p>
                
            </div>
        </div>
    </footer>
    <div class="disqus">
        <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'cordovablogs';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

    </div>
</div>

</div>

</div>

<div class="blue-divider"></div>
<footer>
    <div class="container">
        <div class="row">
    <div class="col-sm-9">
        <h1>More Resources</h1>
        <div class="row">
            <div class="col-sm-4">
                <h2>General</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://projects.apache.org/project.html?cordova">Apache Project Page</a>
                    </li>
                    <li>
                        <a href="http://www.apache.org/dyn/closer.cgi/cordova">Source Distribution</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">License</a>
                    </li>
                    <li>
                        <a href="/artwork">Artwork</a>
                    </li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Development</h2>
                <ul class="nav">
                    <li><a target="_blank" href="https://github.com/apache?utf8=%E2%9C%93&amp;q=cordova-">Source Code</a></li>
                    <li><a target="_blank" href="https://issues.apache.org/jira/browse/CB/">Issue Tracker</a></li>
                    <li><a target="_blank" href="http://stackoverflow.com/questions/tagged/cordova">Stack Overflow</a></li>
                    <li><a href="/contact">Mailing List</a></li>
                    <li><a href="/contribute/nightly_builds.html">Nightly builds</a></li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Apache Software Foundation</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="http://www.apache.org/">About ASF</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/foundation/thanks.html">Thanks</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/security/">Security</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-sm-3">
        <h1>Contribute</h1>
        <p style="padding-top:20px"><strong>Help Cordova move forward!</strong></p>
        <p>Report bugs, improve the docs, or contribute to the code.</p>
        <a href="/contribute" class="btn btn-lg btn-primary">
            Learn More
        </a>
        <p style="padding-top:20px"> <a href="https://twitter.com/apachecordova" class="twitter-follow-button" data-show-count="false">Follow @apachecordova</a></p>
    </div>
</div>
<p class="copyright_text">
    Copyright &copy; 2012, 2013, 2015 Apache软件基金会, 许可授权在 <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.<br/>
    Apache and the Apache feather logos are <a target="_blank" href="http://www.apache.org/foundation/marks/list/">trademarks</a> of The Apache Software Foundation.
    <br/>
    "Raleway" font used under license. For details see the <a href="/attributions/">attributions page</a>.
</p>

    </div>
</footer>


    <script defer type="text/javascript" src="/static/js/index.js"></script>
    
    



    


<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: '0a916ab198bd93d031aa70611271e42e',
        indexName: 'cordova',
        inputSelector: '#header-search-field',
        algoliaOptions: { 'facetFilters': ["version:  9.x", "language: zh-cn"] }
    });
</script>

</body>
</html>
